# 指针

- 指针（pointer）在 Go 语言中可以被拆分成两个概念：
  - 类型指针，允许对这个指针类型的数据进行修改，传递数据可以直接使用指针，而无须拷贝数据，类型指针不能进行偏移和运算；
  - 切片，由指向起始元素的原始指针、元素数量和容量组成；

## 认识指针地址和指针类型

- 一个指针变量可以指向任何一个值的内存地址，它所指向的值的内存地址在 32 位和 64 位机器上分别占用 4 字节和 8 字节，占用字节的大小与所指向的值的大小无关。当一个指针被定义后没有分配到任何变量时，它的默认值是 nil。（指针变量通常缩写为 ptr）
- 每个变量在运行时都拥有一个地址，这个地址代表变量在内存中的位置。Go 语言中使用在变量名前面添加 `&` 操作符（前缀）来获取变量的内存地址（取地址操作），格式如下：
```go
  prt := &v // v 的类型为 T
```
- 其中 v 代表被取地址的变量，变量 v 的地址使用变量 ptr 进行接收，ptr 的类型为 *T，称作 T 的指针类型，* 代表指针；

## 从指针获取指针指向的值

- 当使用 `&` 操作符对普通变量进行取址操作并得到变量的指针后，可以对指针使用 `*` 操作符，也就是指针取值；
- 取地址操作符 `&` 和取值操作符 `*` 是一对互补操作符，`&` 取出地址，`*` 根据地址取出地址指向的值；
- 变量、指针地址、指针变量、取地址、取值的相互关系和特性如下：
  - 对变量进行取地址操作使用 `&` 操作符，可以获得这个变量的指针变量；
  - 指针变量的值是指针地址；
  - 对指针变量进行取值操作使用 `*` 操作符，可以获得指针变量指向的原变量的值；